<!doctype html>
<html lang="ms">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Analitik Data Teknikal Kesihatan Pergigian Negeri Kedah</title>

  <!-- Styles -->
  <link rel="stylesheet" href="styles.css" />

  <!-- Libs -->
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>
  <header class="page-hd">
    <h1>Analitik Data Teknikal Kesihatan Pergigian Negeri Kedah</h1>
    <div class="src">Sumber: Google Sheets (Publish to Web)</div>
  </header>

  <main class="grid">

    <!-- ===== 1. Akses ===== -->
    <section class="card">
      <header class="card-hd">
        <div>
          <h2>1. Akses Kepada Perkhidmatan Kesihatan Pergigian</h2>
          <div class="time"><span id="t1time">—</span></div>
        </div>
        <div class="actions">
          <button id="t1refresh" class="icon-btn" title="Muat semula" aria-label="Muat semula"><span class="i i-reload"></span></button>
          <button id="t1expand" class="icon-btn" title="Besarkan" aria-label="Besarkan"><span class="i i-expand"></span></button>
        </div>
      </header>
      <div class="canvas-wrap">
        <canvas id="t1"></canvas>
        <div id="t1err" class="err" style="display:none"></div>
      </div>
      <footer class="legend">
        <span class="lg"><span class="dot" style="background:#f59e0b"></span>% Menerima Perkhidmatan</span>
        <span class="lg"><span class="dot" style="background:#6366f1"></span>Anggaran Penduduk</span>
      </footer>
    </section>

    <!-- ===== 2. Primer ===== -->
    <section class="card">
      <header class="card-hd">
        <div>
          <h2>2. Kedatangan Pesakit Primer</h2>
          <div class="time"><span id="t2time">—</span></div>
        </div>
        <div class="actions">
          <button id="t2refresh" class="icon-btn" title="Muat semula" aria-label="Muat semula"><span class="i i-reload"></span></button>
          <button id="t2expand" class="icon-btn" title="Besarkan" aria-label="Besarkan"><span class="i i-expand"></span></button>
        </div>
      </header>
      <div class="card-sub">
        <div id="dd2" class="dd">
          <button id="dd2btn" class="icon-chip" title="Pilih kategori"><span class="i i-filter"></span></button>
          <div id="dd2menu" class="menu">
            <div class="menu-hd">Pilih Kategori</div>
            <div class="menu-body"></div>
            <div class="menu-ft">
              <button id="dd2all" class="mini-icon" title="Pilih semua"><span class="i i-check-all"></span></button>
              <button id="dd2none" class="mini-icon" title="Kosongkan"><span class="i i-clear"></span></button>
              <button id="dd2close" class="mini-icon" title="Tutup"><span class="i i-close"></span></button>
            </div>
          </div>
          <div id="dd2tags" class="tags"></div>
        </div>
        <div id="t2legend" class="legend"></div>
      </div>
      <div class="canvas-wrap">
        <canvas id="t2"></canvas>
        <div id="t2err" class="err" style="display:none"></div>
      </div>
    </section>

    <!-- ===== 3. Outreach ===== -->
    <section class="card">
      <header class="card-hd">
        <div>
          <h2>3. Kedatangan Pesakit Outreach</h2>
          <div class="time"><span id="t3time">—</span></div>
        </div>
        <div class="actions">
          <button id="t3refresh" class="icon-btn" title="Muat semula" aria-label="Muat semula"><span class="i i-reload"></span></button>
          <button id="t3expand" class="icon-btn" title="Besarkan" aria-label="Besarkan"><span class="i i-expand"></span></button>
        </div>
      </header>
      <div class="card-sub">
        <div id="dd3" class="dd">
          <button id="dd3btn" class="icon-chip" title="Pilih kumpulan"><span class="i i-filter"></span></button>
          <div id="dd3menu" class="menu">
            <div class="menu-hd">Pilih Kumpulan</div>
            <div class="menu-body"></div>
            <div class="menu-ft">
              <button id="dd3all" class="mini-icon" title="Pilih semua"><span class="i i-check-all"></span></button>
              <button id="dd3none" class="mini-icon" title="Kosongkan"><span class="i i-clear"></span></button>
              <button id="dd3close" class="mini-icon" title="Tutup"><span class="i i-close"></span></button>
            </div>
          </div>
          <div id="dd3tags" class="tags"></div>
        </div>
        <div id="t3legend" class="legend"></div>
      </div>
      <div class="canvas-wrap">
        <canvas id="t3"></canvas>
        <div id="t3err" class="err" style="display:none"></div>
      </div>
    </section>

    <!-- ===== 4. Pakar (kepakaran) ===== -->
    <section class="card">
      <header class="card-hd">
        <div>
          <h2>4. Jumlah Kedatangan Pesakit Pakar</h2>
          <div class="time"><span id="t4time">—</span></div>
        </div>
        <div class="actions">
          <button id="t4refresh" class="icon-btn" title="Muat semula" aria-label="Muat semula"><span class="i i-reload"></span></button>
          <button id="t4expand" class="icon-btn" title="Besarkan" aria-label="Besarkan"><span class="i i-expand"></span></button>
        </div>
      </header>
      <div class="card-sub">
        <div id="dd4" class="dd">
          <button id="dd4btn" class="icon-chip" title="Pilih kumpulan pakar"><span class="i i-filter"></span></button>
          <div id="dd4menu" class="menu">
            <div class="menu-hd">Pilih Kumpulan Pakar</div>
            <div class="menu-body"></div>
            <div class="menu-ft">
              <button id="dd4all" class="mini-icon" title="Pilih semua"><span class="i i-check-all"></span></button>
              <button id="dd4none" class="mini-icon" title="Kosongkan"><span class="i i-clear"></span></button>
              <button id="dd4close" class="mini-icon" title="Tutup"><span class="i i-close"></span></button>
            </div>
          </div>
          <div id="dd4tags" class="tags"></div>
        </div>
        <div id="t4legend" class="legend"></div>
      </div>
      <div class="canvas-wrap">
        <canvas id="t4"></canvas>
        <div id="t4err" class="err" style="display:none"></div>
      </div>
    </section>

    <!-- ===== 5. Toddler ===== -->
    <section class="card">
      <header class="card-hd">
        <div>
          <h2>5. Pencapaian Program Toddler</h2>
          <div class="time"><span id="t5time">—</span></div>
        </div>
        <div class="actions">
          <button id="t5refresh" class="icon-btn" title="Muat semula" aria-label="Muat semula"><span class="i i-reload"></span></button>
          <button id="t5expand" class="icon-btn" title="Besarkan" aria-label="Besarkan"><span class="i i-expand"></span></button>
        </div>
      </header>
      <div class="card-sub">
        <div id="dd5" class="dd">
          <button id="dd5btn" class="icon-chip" title="Pilih metrik"><span class="i i-filter"></span></button>
          <div id="dd5menu" class="menu">
            <div class="menu-hd">Pilih Metrik</div>
            <div class="menu-body"></div>
            <div class="menu-ft">
              <button id="dd5all" class="mini-icon" title="Pilih semua"><span class="i i-check-all"></span></button>
              <button id="dd5none" class="mini-icon" title="Kosongkan"><span class="i i-clear"></span></button>
              <button id="dd5close" class="mini-icon" title="Tutup"><span class="i i-close"></span></button>
            </div>
          </div>
          <div id="dd5tags" class="tags"></div>
        </div>
        <div id="t5legend" class="legend"></div>
      </div>
      <div class="canvas-wrap">
        <canvas id="t5"></canvas>
        <div id="t5err" class="err" style="display:none"></div>
      </div>
    </section>

    <!-- ===== 6. Ibu Mengandung ===== -->
    <section class="card">
      <header class="card-hd">
        <div>
          <h2>6. Liputan Ibu Mengandung</h2>
          <div class="time"><span id="t6time">—</span></div>
        </div>
        <div class="actions">
          <button id="t6refresh" class="icon-btn" title="Muat semula" aria-label="Muat semula"><span class="i i-reload"></span></button>
          <button id="t6expand" class="icon-btn" title="Besarkan" aria-label="Besarkan"><span class="i i-expand"></span></button>
        </div>
      </header>
      <div class="card-sub">
        <div id="dd6" class="dd">
          <button id="dd6btn" class="icon-chip" title="Pilih metrik"><span class="i i-filter"></span></button>
          <div id="dd6menu" class="menu">
            <div class="menu-hd">Pilih Metrik</div>
            <div class="menu-body"></div>
            <div class="menu-ft">
              <button id="dd6all" class="mini-icon" title="Pilih semua"><span class="i i-check-all"></span></button>
              <button id="dd6none" class="mini-icon" title="Kosongkan"><span class="i i-clear"></span></button>
              <button id="dd6close" class="mini-icon" title="Tutup"><span class="i i-close"></span></button>
            </div>
          </div>
          <div id="dd6tags" class="tags"></div>
        </div>
        <div id="t6legend" class="legend"></div>
      </div>
      <div class="canvas-wrap">
        <canvas id="t6"></canvas>
        <div id="t6err" class="err" style="display:none"></div>
      </div>
    </section>

    <!-- ===== 7. Young Adult ===== -->
    <section class="card">
      <header class="card-hd">
        <div>
          <h2>7. Young Adult</h2>
          <div class="time"><span id="t7time">—</span></div>
        </div>
        <div class="actions">
          <button id="t7refresh" class="icon-btn" title="Muat semula" aria-label="Muat semula"><span class="i i-reload"></span></button>
          <button id="t7expand" class="icon-btn" title="Besarkan" aria-label="Besarkan"><span class="i i-expand"></span></button>
        </div>
      </header>
      <div class="card-sub">
        <div id="dd7" class="dd">
          <button id="dd7btn" class="icon-chip" title="Pilih metrik"><span class="i i-filter"></span></button>
          <div id="dd7menu" class="menu">
            <div class="menu-hd">Pilih Metrik</div>
            <div class="menu-body"></div>
            <div class="menu-ft">
              <button id="dd7all" class="mini-icon" title="Pilih semua"><span class="i i-check-all"></span></button>
              <button id="dd7none" class="mini-icon" title="Kosongkan"><span class="i i-clear"></span></button>
              <button id="dd7close" class="mini-icon" title="Tutup"><span class="i i-close"></span></button>
            </div>
          </div>
          <div id="dd7tags" class="tags"></div>
        </div>
        <div id="t7legend" class="legend"></div>
      </div>
      <div class="canvas-wrap">
        <canvas id="t7"></canvas>
        <div id="t7err" class="err" style="display:none"></div>
      </div>
    </section>

    <!-- ===== 8. BPE ===== -->
    <section class="card">
      <header class="card-hd">
        <div>
          <h2>8. Basic Periodontal Examination</h2>
          <div class="time"><span id="t8time">—</span></div>
        </div>
        <div class="actions">
          <button id="t8refresh" class="icon-btn" title="Muat semula" aria-label="Muat semula"><span class="i i-reload"></span></button>
          <button id="t8expand" class="icon-btn" title="Besarkan" aria-label="Besarkan"><span class="i i-expand"></span></button>
        </div>
      </header>
      <div class="card-sub">
        <div id="dd8" class="dd">
          <button id="dd8btn" class="icon-chip" title="Pilih metrik"><span class="i i-filter"></span></button>
          <div id="dd8menu" class="menu">
            <div class="menu-hd">Pilih Metrik</div>
            <div class="menu-body"></div>
            <div class="menu-ft">
              <button id="dd8all" class="mini-icon" title="Pilih semua"><span class="i i-check-all"></span></button>
              <button id="dd8none" class="mini-icon" title="Kosongkan"><span class="i i-clear"></span></button>
              <button id="dd8close" class="mini-icon" title="Tutup"><span class="i i-close"></span></button>
            </div>
          </div>
          <div id="dd8tags" class="tags"></div>
        </div>
        <div id="t8legend" class="legend"></div>
      </div>
      <div class="canvas-wrap">
        <canvas id="t8"></canvas>
        <div id="t8err" class="err" style="display:none"></div>
      </div>
    </section>

    <!-- ===== 9. Warga Emas ===== -->
    <section class="card">
      <header class="card-hd">
        <div>
          <h2>9. Warga Emas</h2>
          <div class="time"><span id="t9time">—</span></div>
        </div>
        <div class="actions">
          <button id="t9refresh" class="icon-btn" title="Muat semula" aria-label="Muat semula"><span class="i i-reload"></span></button>
          <button id="t9expand" class="icon-btn" title="Besarkan" aria-label="Besarkan"><span class="i i-expand"></span></button>
        </div>
      </header>
      <div class="card-sub">
        <div id="dd9" class="dd">
          <button id="dd9btn" class="icon-chip" title="Pilih metrik"><span class="i i-filter"></span></button>
          <div id="dd9menu" class="menu">
            <div class="menu-hd">Pilih Metrik</div>
            <div class="menu-body"></div>
            <div class="menu-ft">
              <button id="dd9all" class="mini-icon" title="Pilih semua"><span class="i i-check-all"></span></button>
              <button id="dd9none" class="mini-icon" title="Kosongkan"><span class="i i-clear"></span></button>
              <button id="dd9close" class="mini-icon" title="Tutup"><span class="i i-close"></span></button>
            </div>
          </div>
          <div id="dd9tags" class="tags"></div>
        </div>
        <div id="t9legend" class="legend"></div>
      </div>
      <div class="canvas-wrap">
        <canvas id="t9"></canvas>
        <div id="t9err" class="err" style="display:none"></div>
      </div>
    </section>

    <!-- ===== 10. Slot Tambahan (placeholder) ===== -->
    <section class="card">
      <header class="card-hd">
        <div>
          <h2>10. Slot Tambahan</h2>
          <div class="time"><span id="t10time">—</span></div>
        </div>
        <div class="actions">
          <button class="icon-btn" title="Muat semula" aria-label="Muat semula"><span class="i i-reload"></span></button>
          <button class="icon-btn" title="Besarkan" aria-label="Besarkan"><span class="i i-expand"></span></button>
        </div>
      </header>
      <div class="canvas-wrap placeholder">
        <div class="empty">Ruang untuk paparan seterusnya.</div>
      </div>
    </section>

  </main>

  <!-- ===== Modal for expand ===== -->
  <div id="modal" class="modal">
    <div class="modal-dialog" role="dialog" aria-modal="true" aria-labelledby="mtitle">
      <header class="modal-hd">
        <h3 id="mtitle">Perincian</h3>
        <button id="mclose" class="icon-btn" title="Tutup" aria-label="Tutup"><span class="i i-close"></span></button>
      </header>
      <div class="canvas-wrap">
        <canvas id="mcanvas"></canvas>
      </div>
    </div>
  </div>

  <!-- App -->
  <script src="app.js?v=22"></script>
</body>
</html>

<!doctype html>
<html lang="ms">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Analitik Data Teknikal Kesihatan Pergigian Negeri Kedah</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>

  <link rel="stylesheet" href="styles.css?v=1">
</head>
<body>
  <header class="ph">
    <h1>Analitik Data Teknikal Kesihatan Pergigian Negeri Kedah</h1>
    <p>Sumber: Google Sheets (Publish to Web)</p>
  </header>

  <main class="grid">
    <!-- Tile 1 -->
    <section class="tile">
      <div class="th">
        <div>
          <h2 class="ttl">Akses Kepada Perkhidmatan Kesihatan Pergigian</h2>
          <div class="sub"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="9"/><path d="M12 7v5l3 3"/></svg><span id="t1time">—</span></div>
        </div>
        <div class="act">
          <button id="t1refresh" class="btn" title="Kemas Kini"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12a9 9 0 1 1-3-6.7"/><path d="M21 3v6h-6"/></svg></button>
          <button id="t1expand" class="btn" title="Perbesar"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 9V4h5M4 4l6 6"/><path d="M20 15v5h-5M20 20l-6-6"/><path d="M15 4h5v5M20 4l-6 6"/><path d="M9 20H4v-5M4 20l6-6"/></svg></button>
        </div>
      </div>
      <div class="tb">
        <div class="chart"><canvas id="t1"></canvas></div>
        <div class="legend">
          <span style="display:flex;align-items:center;gap:8px"><span class="dot" style="background:#f59e0b"></span>% Menerima Perkhidmatan</span>
          <span style="display:flex;align-items:center;gap:8px"><span class="dot" style="background:#6366f1"></span>Anggaran Penduduk</span>
        </div>
        <div class="err" id="t1err"></div>
      </div>
    </section>

    <!-- Tile 2 -->
    <section class="tile">
      <div class="th">
        <div>
          <h2 class="ttl">Kedatangan Pesakit Primer</h2>
          <div class="sub"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="9"/><path d="M12 7v5l3 3"/></svg><span id="t2time">—</span></div>
        </div>
        <div class="act">
          <button id="t2refresh" class="btn" title="Kemas Kini"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12a9 9 0 1 1-3-6.7"/><path d="M21 3v6h-6"/></svg></button>
          <button id="t2expand" class="btn" title="Perbesar"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 9V4h5M4 4l6 6"/><path d="M20 15v5h-5M20 20l-6-6"/><path d="M15 4h5v5M20 4l-6 6"/><path d="M9 20H4v-5M4 20l6-6"/></svg></button>
        </div>
      </div>
      <div class="tb">
        <div class="dd" id="dd2">
          <button class="b" type="button" id="dd2btn">Pilih Kategori</button>
          <div class="tags" id="dd2tags"></div>
          <div class="menu" id="dd2menu"><div class="mfoot">
            <button class="b" type="button" id="dd2all">Pilih Semua</button>
            <button class="b" type="button" id="dd2none">Kosongkan</button>
            <button class="b" type="button" id="dd2close">Tutup</button>
          </div></div>
        </div>
        <div class="chart"><canvas id="t2"></canvas></div>
        <div class="legend" id="t2legend"></div>
        <div class="err" id="t2err"></div>
      </div>
    </section>

    <!-- Tile 3 -->
    <section class="tile">
      <div class="th">
        <div>
          <h2 class="ttl">Kedatangan Pesakit Outreach</h2>
          <div class="sub"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="9"/><path d="M12 7v5l3 3"/></svg><span id="t3time">—</span></div>
        </div>
        <div class="act">
          <button id="t3refresh" class="btn" title="Kemas Kini"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12a9 9 0 1 1-3-6.7"/><path d="M21 3v6h-6"/></svg></button>
          <button id="t3expand" class="btn" title="Perbesar"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 9V4h5M4 4l6 6"/><path d="M20 15v5h-5M20 20l-6-6"/><path d="M15 4h5v5M20 4l-6 6"/><path d="M9 20H4v-5M4 20l6-6"/></svg></button>
        </div>
      </div>
      <div class="tb">
        <div class="dd" id="dd3">
          <button class="b" type="button" id="dd3btn">Pilih Kumpulan</button>
          <div class="tags" id="dd3tags"></div>
          <div class="menu" id="dd3menu"><div class="mfoot">
            <button class="b" type="button" id="dd3all">Pilih Semua</button>
            <button class="b" type="button" id="dd3none">Kosongkan</button>
            <button class="b" type="button" id="dd3close">Tutup</button>
          </div></div>
        </div>
        <div class="chart"><canvas id="t3"></canvas></div>
        <div class="legend" id="t3legend"></div>
        <div class="err" id="t3err"></div>
      </div>
    </section>

    <!-- Tile 4 -->
    <section class="tile">
      <div class="th">
        <div>
          <h2 class="ttl">Pencapaian Program Toddler</h2>
          <div class="sub"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="9"/><path d="M12 7v5l3 3"/></svg><span id="t4time">—</span></div>
        </div>
        <div class="act">
          <button id="t4refresh" class="btn" title="Kemas Kini"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12a9 9 0 1 1-3-6.7"/><path d="M21 3v6h-6"/></svg></button>
          <button id="t4expand" class="btn" title="Perbesar"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 9V4h5M4 4l6 6"/><path d="M20 15v5h-5M20 20l-6-6"/><path d="M15 4h5v5M20 4l-6 6"/><path d="M9 20H4v-5M4 20l6-6"/></svg></button>
        </div>
      </div>
      <div class="tb">
        <div class="dd" id="dd4">
          <button class="b" type="button" id="dd4btn">Pilih Metrik</button>
          <div class="tags" id="dd4tags"></div>
          <div class="menu" id="dd4menu"><div class="mfoot">
            <button class="b" type="button" id="dd4all">Pilih Semua</button>
            <button class="b" type="button" id="dd4none">Kosongkan</button>
            <button class="b" type="button" id="dd4close">Tutup</button>
          </div></div>
        </div>
        <div class="chart"><canvas id="t4"></canvas></div>
        <div class="legend" id="t4legend"></div>
        <div class="err" id="t4err"></div>
      </div>
    </section>

    <!-- Tile 5 (below Tile 3) -->
    <section class="tile">
      <div class="th">
        <div>
          <h2 class="ttl">Liputan Ibu Mengandung</h2>
          <div class="sub"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="9"/><path d="M12 7v5l3 3"/></svg><span id="t5time">—</span></div>
        </div>
        <div class="act">
          <button id="t5refresh" class="btn" title="Kemas Kini"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12a9 9 0 1 1-3-6.7"/><path d="M21 3v6h-6"/></svg></button>
          <button id="t5expand" class="btn" title="Perbesar"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 9V4h5M4 4l6 6"/><path d="M20 15v5h-5M20 20l-6-6"/><path d="M15 4h5v5M20 4l-6 6"/><path d="M9 20H4v-5M4 20l6-6"/></svg></button>
        </div>
      </div>
      <div class="tb">
        <div class="dd" id="dd5">
          <button class="b" type="button" id="dd5btn">Pilih Metrik</button>
          <div class="tags" id="dd5tags"></div>
          <div class="menu" id="dd5menu"><div class="mfoot">
            <button class="b" type="button" id="dd5all">Pilih Semua</button>
            <button class="b" type="button" id="dd5none">Kosongkan</button>
            <button class="b" type="button" id="dd5close">Tutup</button>
          </div></div>
        </div>
        <div class="chart"><canvas id="t5"></canvas></div>
        <div class="legend" id="t5legend"></div>
        <div class="err" id="t5err"></div>
      </div>
    </section>

    <!-- Empty tile (below Tile 4) -->
    <section class="tile">
      <div class="th">
        <div>
          <h2 class="ttl">Slot Tambahan</h2>
          <div class="sub"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="9"/><path d="M12 7v5l3 3"/></svg><span>—</span></div>
        </div>
        <div class="act"></div>
      </div>
      <div class="tb" style="min-height:240px;display:flex;align-items:center;justify-content:center;color:#94a3b8">
        Ruang untuk paparan seterusnya.
      </div>
    </section>
  </main>

  <!-- Full-screen modal -->
  <div class="modal" id="modal">
    <div class="modal-inner">
      <div class="mh">
        <h3 id="mtitle" style="margin:0;font-weight:800">Perincian</h3>
        <button class="close" id="mclose">Tutup</button>
      </div>
      <div class="mb"><div class="mchart"><canvas id="mcanvas"></canvas></div></div>
    </div>
  </div>

  <script src="app.js?v=12"></script>
</body>
</html>

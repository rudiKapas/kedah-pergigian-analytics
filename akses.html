<!doctype html>
<html lang="ms">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=1200, initial-scale=1, maximum-scale=1, viewport-fit=cover" />
  <title>Akses Kesihatan Pergigian Negeri Kedah</title>

  <!-- Prevent favicon 404 -->
  <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=">

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css?v=9">

  <style>
  /* Page-scoped overrides for akses.html only */
    body.akses .tile{
      display:grid;
      grid-template-rows:auto minmax(0,1fr);  /* header | body that can stretch */
      min-height:0;
    }
    body.akses .tb{
      display:grid;
      grid-template-rows:minmax(0,1fr) auto auto; /* chart | legend | err */
      min-height:0;
      padding-bottom:0;                           /* avoid extra gap under chart */
    }
    body.akses .tb .chart{
      min-height:260px;                           /* floor only */
    }
  
    /* Kill global fixed heights for this page */
    body.akses .tile .chart,
    body.akses .chart,
    body.akses .canvas-wrap{
      height:auto !important;
    }
  
    /* Let the canvas fill the chart box */
    body.akses .tb .chart canvas{
      width:100% !important;
      height:100% !important;
      display:block;
    }

    body.akses .tb .legend{ padding:10px 0 20px; font-size:12px; line-height:1; }

    
  </style>


  
  <script src="datasets.js?v=3"></script>


  <!-- Libraries already used on page -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>

  <script>
    // Let canvases fill their parent box
    Chart.defaults.responsive = true;
    Chart.defaults.maintainAspectRatio = false;

    // akses.html only — shrink x-axis label gutter so the plot starts lower
    Chart.register({
      id: 'tightenXAxisGutter',
      afterFit(scale) {
        if (scale.axis === 'x') {
          const cut = 18;          // how many px to shave off
          const min = 20;          // keep at least this much for labels
          scale.height = Math.max(min, scale.height - cut);
        }
      }
    });
    
    // Make ticks as tight as possible to help
    Chart.defaults.scales = Chart.defaults.scales || {};
    Chart.defaults.scales.category = Object.assign(
      {}, Chart.defaults.scales.category || {},
      {
        ticks: Object.assign({}, (Chart.defaults.scales.category||{}).ticks, {
          padding: 0,            // no extra tick padding
          autoSkip: false,       // keep all labels (you can set true if you prefer)
          font: { size: 10 }     // smaller label font
        }),
        grid: Object.assign({}, (Chart.defaults.scales.category||{}).grid, {
          drawTicks: false,      // hide little tick marks
          tickLength: 0
        })
      }
    );

    
    // akses.html — expand usable plot area but keep labels clear
    Chart.defaults.layout = { padding: { top: 4, right: 8, bottom: 10, left: 8 } };
    
    Chart.defaults.scales = Chart.defaults.scales || {};
    Chart.defaults.scales.category = Object.assign({}, Chart.defaults.scales.category, {
      // more space between axis line and labels
      ticks: { padding: 10, autoSkip: true, maxRotation: 0, minRotation: 0, font: { size: 12, lineHeight: 1.15 } }
    });



    Chart.defaults.scales.linear = Object.assign({}, Chart.defaults.scales.linear, {
      ticks: { padding: 6 }
    });


  </script>


  <!-- SVG sprite (other icons) -->
  <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
    <symbol id="i-time" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="9"/><path d="M12 7v5l3 3"/>
    </symbol>
    <symbol id="i-refresh" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M21 12a9 9 0 1 1-3-6.7"/><path d="M21 3v6h-6"/>
    </symbol>
    <symbol id="i-expand" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M4 9V4h5M4 4l6 6"/><path d="M20 15v5h-5M20 20l-6-6"/>
      <path d="M15 4h5v5M20 4l-6 6"/><path d="M9 20H4v-5M4 20l6-6"/>
    </symbol>
    <symbol id="i-filter" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M3 5h18l-7 8v6l-4-2v-4L3 5z"/>
    </symbol>
    <symbol id="i-x" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M18 6L6 18M6 6l12 12"/>
    </symbol>
    <symbol id="i-back" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M15 18l-6-6 6-6"/><path d="M21 12H9"/>
    </symbol>
    <symbol id="i-search" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="11" cy="11" r="7"></circle><path d="M21 21l-3.6-3.6"></path>
    </symbol>
  </svg>
</head>
<body class="akses">


  <!-- PAGE HEADER -->
  <header class="ph">
    <h1>Akses Kesihatan Pergigian Negeri Kedah</h1>
    <p>Analisis Data klinikal dan Prestasi Perkhidmatan Pergigian Negeri Kedah</p>

    <!-- Search bar row (Back • Input • Search) -->
    <div class="searchbar" role="search">
      <!-- Back (ghost) -->
      <a class="btn btn-ghost" href="index.html" aria-label="Kembali ke halaman utama">
        <svg class="ico" width="20" height="20"><use href="#i-back"/></svg>
      </a>

      <!-- Input -->
      <input id="globalSearch" type="search"
             placeholder="Cari di halaman ini… (kategori, tajuk graf)"
             autocomplete="off" />
      <div id="gs-suggest" class="gs-suggest" hidden></div>

      <!-- Search (teal) -->
      <button id="globalSearchBtn" type="button" class="btn" aria-label="Cari">
        <svg class="ico" width="20" height="20"><use href="#i-search"/></svg>
        <span class="lbl" hidden>Cari</span>
      </button>
    </div>
  </header>

  <!-- GRID OF TILES -->
  <main class="grid">

    <!-- Tile 1 -->
    <section class="tile">
      <div class="th">
        <div>
          <h2 class="ttl">Akses Kepada Perkhidmatan Kesihatan Pergigian</h2>
          <div class="sub"><svg class="ico"><use href="#i-time"/></svg><span id="t1time">—</span></div>
        </div>
        <div class="act">
          <button id="t1refresh" class="btn" title="Kemas Kini"><svg class="ico"><use href="#i-refresh"/></svg></button>
          <button id="t1expand" class="btn" title="Perbesar"><svg class="ico"><use href="#i-expand"/></svg></button>
        </div>
      </div>
      <div class="tb">
        <div class="chart"><canvas id="t1"></canvas></div>
        <div class="legend">
          <span class="lg"><span class="dot" style="background:#f59e0b"></span>% Menerima Perkhidmatan</span>
          <span class="lg"><span class="dot" style="background:#6366f1"></span>Anggaran Penduduk</span>
        </div>
        <div class="err" id="t1err"></div>
      </div>
    </section>

    <!-- Tile 2 -->
    <section class="tile">
      <div class="th">
        <div>
          <h2 class="ttl">Kedatangan Pesakit Primer</h2>
          <div class="sub"><svg class="ico"><use href="#i-time"/></svg><span id="t2time">—</span></div>
        </div>
        <div class="act">
          <div class="dd" id="dd2">
            <button class="btn dd-trigger" id="dd2btn" title="Tapis"><svg class="ico"><use href="#i-filter"/></svg></button>
            <div class="menu" id="dd2menu">
              <div class="menu-body"></div>
              <div class="mfoot">
                <button class="icbtn" id="dd2all" title="Pilih semua" aria-label="Pilih semua">
                  <img class="ico" src="assets/icons/selectAll.svg" alt="">
                </button>
                <button class="icbtn" id="dd2none" title="Kosongkan" aria-label="Kosongkan">
                  <img class="ico" src="assets/icons/unselectAll.svg" alt="">
                </button>
                <button class="icbtn" id="dd2close" title="Tutup" aria-label="Tutup">
                  <svg class="ico"><use href="#i-x"/></svg>
                </button>
              </div>
            </div>
          </div>
          <button id="t2refresh" class="btn" title="Kemas Kini"><svg class="ico"><use href="#i-refresh"/></svg></button>
          <button id="t2expand" class="btn" title="Perbesar"><svg class="ico"><use href="#i-expand"/></svg></button>
        </div>
      </div>
      <div class="tb">
        <div class="tags" id="dd2tags"></div>
        <div class="chart"><canvas id="t2"></canvas></div>
        <div class="legend" id="t2legend"></div>
        <div class="err" id="t2err"></div>
      </div>
    </section>

    <!-- Tile 3 -->
    <section class="tile">
      <div class="th">
        <div>
          <h2 class="ttl">Kedatangan Pesakit Outreach</h2>
          <div class="sub"><svg class="ico"><use href="#i-time"/></svg><span id="t3time">—</span></div>
        </div>
        <div class="act">
          <div class="dd" id="dd3">
            <button class="btn dd-trigger" id="dd3btn" title="Tapis"><svg class="ico"><use href="#i-filter"/></svg></button>
            <div class="menu" id="dd3menu">
              <div class="menu-body"></div>
              <div class="mfoot">
                <button class="icbtn" id="dd3all" title="Pilih semua" aria-label="Pilih semua">
                  <img class="ico" src="assets/icons/selectAll.svg" alt="">
                </button>
                <button class="icbtn" id="dd3none" title="Kosongkan" aria-label="Kosongkan">
                  <img class="ico" src="assets/icons/unselectAll.svg" alt="">
                </button>
                <button class="icbtn" id="dd3close" title="Tutup" aria-label="Tutup">
                  <svg class="ico"><use href="#i-x"/></svg>
                </button>
              </div>
            </div>
          </div>
          <button id="t3refresh" class="btn" title="Kemas Kini"><svg class="ico"><use href="#i-refresh"/></svg></button>
          <button id="t3expand" class="btn" title="Perbesar"><svg class="ico"><use href="#i-expand"/></svg></button>
        </div>
      </div>
      <div class="tb">
        <div class="tags" id="dd3tags"></div>
        <div class="chart"><canvas id="t3"></canvas></div>
        <div class="legend" id="t3legend"></div>
        <div class="err" id="t3err"></div>
      </div>
    </section>

    <!-- Tile 4 -->
    <section class="tile">
      <div class="th">
        <div>
          <h2 class="ttl">Jumlah Kedatangan Pesakit Pakar</h2>
          <div class="sub"><svg class="ico"><use href="#i-time"/></svg><span id="t4time">—</span></div>
        </div>
        <div class="act">
          <div class="dd" id="dd4">
            <button class="btn dd-trigger" id="dd4btn" title="Tapis"><svg class="ico"><use href="#i-filter"/></svg></button>
            <div class="menu" id="dd4menu">
              <div class="menu-body"></div>
              <div class="mfoot">
                <button class="icbtn" id="dd4all" title="Pilih semua" aria-label="Pilih semua">
                  <img class="ico" src="assets/icons/selectAll.svg" alt="">
                </button>
                <button class="icbtn" id="dd4none" title="Kosongkan" aria-label="Kosongkan">
                  <img class="ico" src="assets/icons/unselectAll.svg" alt="">
                </button>
                <button class="icbtn" id="dd4close" title="Tutup" aria-label="Tutup">
                  <svg class="ico"><use href="#i-x"/></svg>
                </button>
              </div>
            </div>
          </div>
          <button id="t4refresh" class="btn" title="Kemas Kini"><svg class="ico"><use href="#i-refresh"/></svg></button>
          <button id="t4expand" class="btn" title="Perbesar"><svg class="ico"><use href="#i-expand"/></svg></button>
        </div>
      </div>
      <div class="tb">
        <div class="tags" id="dd4tags"></div>
        <div class="chart"><canvas id="t4"></canvas></div>
        <div class="legend" id="t4legend"></div>
        <div class="err" id="t4err"></div>
      </div>
    </section>

    <!-- Tile 5 -->
    <section class="tile">
      <div class="th">
        <div>
          <h2 class="ttl">Pencapaian Program Toddler</h2>
          <div class="sub"><svg class="ico"><use href="#i-time"/></svg><span id="t5time">—</span></div>
        </div>
        <div class="act">
          <div class="dd" id="dd5">
            <button class="btn dd-trigger" id="dd5btn" title="Tapis"><svg class="ico"><use href="#i-filter"/></svg></button>
            <div class="menu" id="dd5menu">
              <div class="menu-body"></div>
              <div class="mfoot">
                <button class="icbtn" id="dd5all" title="Pilih semua" aria-label="Pilih semua">
                  <img class="ico" src="assets/icons/selectAll.svg" alt="">
                </button>
                <button class="icbtn" id="dd5none" title="Kosongkan" aria-label="Kosongkan">
                  <img class="ico" src="assets/icons/unselectAll.svg" alt="">
                </button>
                <button class="icbtn" id="dd5close" title="Tutup" aria-label="Tutup">
                  <svg class="ico"><use href="#i-x"/></svg>
                </button>
              </div>
            </div>
          </div>
          <button id="t5refresh" class="btn" title="Kemas Kini"><svg class="ico"><use href="#i-refresh"/></svg></button>
          <button id="t5expand" class="btn" title="Perbesar"><svg class="ico"><use href="#i-expand"/></svg></button>
        </div>
      </div>
      <div class="tb">
        <div class="tags" id="dd5tags"></div>
        <div class="chart"><canvas id="t5"></canvas></div>
        <div class="legend" id="t5legend"></div>
        <div class="err" id="t5err"></div>
      </div>
    </section>

    <!-- Tile 6 -->
    <section class="tile">
      <div class="th">
        <div>
          <h2 class="ttl">Liputan Ibu Mengandung</h2>
          <div class="sub"><svg class="ico"><use href="#i-time"/></svg><span id="t6time">—</span></div>
        </div>
        <div class="act">
          <div class="dd" id="dd6">
            <button class="btn dd-trigger" id="dd6btn" title="Tapis"><svg class="ico"><use href="#i-filter"/></svg></button>
            <div class="menu" id="dd6menu">
              <div class="menu-body"></div>
              <div class="mfoot">
                <button class="icbtn" id="dd6all" title="Pilih semua" aria-label="Pilih semua">
                  <img class="ico" src="assets/icons/selectAll.svg" alt="">
                </button>
                <button class="icbtn" id="dd6none" title="Kosongkan" aria-label="Kosongkan">
                  <img class="ico" src="assets/icons/unselectAll.svg" alt="">
                </button>
                <button class="icbtn" id="dd6close" title="Tutup" aria-label="Tutup">
                  <svg class="ico"><use href="#i-x"/></svg>
                </button>
              </div>
            </div>
          </div>
          <button id="t6refresh" class="btn" title="Kemas Kini"><svg class="ico"><use href="#i-refresh"/></svg></button>
          <button id="t6expand" class="btn" title="Perbesar"><svg class="ico"><use href="#i-expand"/></svg></button>
        </div>
      </div>
      <div class="tb">
        <div class="tags" id="dd6tags"></div>
        <div class="chart"><canvas id="t6"></canvas></div>
        <div class="legend" id="t6legend"></div>
        <div class="err" id="t6err"></div>
      </div>
    </section>

    <!-- Tile 7 -->
    <section class="tile">
      <div class="th">
        <div>
          <h2 class="ttl">Young Adult</h2>
          <div class="sub"><svg class="ico"><use href="#i-time"/></svg><span id="t7time">—</span></div>
        </div>
        <div class="act">
          <div class="dd" id="dd7">
            <button class="btn dd-trigger" id="dd7btn" title="Tapis"><svg class="ico"><use href="#i-filter"/></svg></button>
            <div class="menu" id="dd7menu">
              <div class="menu-body"></div>
              <div class="mfoot">
                <button class="icbtn" id="dd7all" title="Pilih semua" aria-label="Pilih semua">
                  <img class="ico" src="assets/icons/selectAll.svg" alt="">
                </button>
                <button class="icbtn" id="dd7none" title="Kosongkan" aria-label="Kosongkan">
                  <img class="ico" src="assets/icons/unselectAll.svg" alt="">
                </button>
                <button class="icbtn" id="dd7close" title="Tutup" aria-label="Tutup">
                  <svg class="ico"><use href="#i-x"/></svg>
                </button>
              </div>
            </div>
          </div>
          <button id="t7refresh" class="btn" title="Kemas Kini"><svg class="ico"><use href="#i-refresh"/></svg></button>
          <button id="t7expand" class="btn" title="Perbesar"><svg class="ico"><use href="#i-expand"/></svg></button>
        </div>
      </div>
      <div class="tb">
        <div class="tags" id="dd7tags"></div>
        <div class="chart"><canvas id="t7"></canvas></div>
        <div class="legend" id="t7legend"></div>
        <div class="err" id="t7err"></div>
      </div>
    </section>

    <!-- Tile 8 -->
    <section class="tile">
      <div class="th">
        <div>
          <h2 class="ttl">Basic Periodontal Examination</h2>
          <div class="sub"><svg class="ico"><use href="#i-time"/></svg><span id="t8time">—</span></div>
        </div>
        <div class="act">
          <div class="dd" id="dd8">
            <button class="btn dd-trigger" id="dd8btn" title="Tapis"><svg class="ico"><use href="#i-filter"/></svg></button>
            <div class="menu" id="dd8menu">
              <div class="menu-body"></div>
              <div class="mfoot">
                <button class="icbtn" id="dd8all" title="Pilih semua" aria-label="Pilih semua">
                  <img class="ico" src="assets/icons/selectAll.svg" alt="">
                </button>
                <button class="icbtn" id="dd8none" title="Kosongkan" aria-label="Kosongkan">
                  <img class="ico" src="assets/icons/unselectAll.svg" alt="">
                </button>
                <button class="icbtn" id="dd8close" title="Tutup" aria-label="Tutup">
                  <svg class="ico"><use href="#i-x"/></svg>
                </button>
              </div>
            </div>
          </div>
          <button id="t8refresh" class="btn" title="Kemas Kini"><svg class="ico"><use href="#i-refresh"/></svg></button>
          <button id="t8expand" class="btn" title="Perbesar"><svg class="ico"><use href="#i-expand"/></svg></button>
        </div>
      </div>
      <div class="tb">
        <div class="tags" id="dd8tags"></div>
        <div class="chart"><canvas id="t8"></canvas></div>
        <div class="legend" id="t8legend"></div>
        <div class="err" id="t8err"></div>
      </div>
    </section>

    <!-- Tile 9 (Warga Emas) — wide -->
    <section class="tile wide">
      <div class="th">
        <div>
          <h2 class="ttl">Warga Emas</h2>
          <div class="sub"><svg class="ico"><use href="#i-time"/></svg><span id="t9time">—</span></div>
        </div>
        <div class="act">
          <div class="dd" id="dd9">
            <button class="btn dd-trigger" id="dd9btn" title="Tapis"><svg class="ico"><use href="#i-filter"/></svg></button>
            <div class="menu" id="dd9menu">
              <div class="menu-body"></div>
              <div class="mfoot">
                <button class="icbtn" id="dd9all" title="Pilih semua" aria-label="Pilih semua">
                  <img class="ico" src="assets/icons/selectAll.svg" alt="">
                </button>
                <button class="icbtn" id="dd9none" title="Kosongkan" aria-label="Kosongkan">
                  <img class="ico" src="assets/icons/unselectAll.svg" alt="">
                </button>
                <button class="icbtn" id="dd9close" title="Tutup" aria-label="Tutup">
                  <svg class="ico"><use href="#i-x"/></svg>
                </button>
              </div>
            </div>
          </div>
          <button id="t9refresh" class="btn" title="Kemas Kini"><svg class="ico"><use href="#i-refresh"/></svg></button>
          <button id="t9expand" class="btn" title="Perbesar"><svg class="ico"><use href="#i-expand"/></svg></button>
        </div>
      </div>
      <div class="tb">
        <div class="goals">
          <strong>Sasaran</strong>
          <ul>
            <li>Peratus pesakit baru warga emas mengikut populasi: <b>10%</b></li>
            <li>Peratus bilangan institusi dilawati di daerah: <b>100%</b></li>
            <li>Peratus Warga Emas disaring: <b>75%</b></li>
            <li>Rehabilitasi fungsi kpd. Warga Emas: <b>80%</b></li>
            <li>% Warga emas > 60 thn dengan ≥ 20 batang gigi: <b>30%</b></li>
          </ul>
        </div>
        <div class="tags" id="dd9tags"></div>
        <div class="chart"><canvas id="t9"></canvas></div>
        <div class="legend" id="t9legend"></div>
        <div class="err" id="t9err"></div>
      </div>
    </section>

  </main>

  <!-- Modal -->
  <div class="modal" id="modal">
    <div class="modal-inner">
      <div class="mh">
        <h3 id="mtitle" style="margin:0;font-weight:800">Perincian</h3>
        <button class="close" id="mclose">Tutup</button>
      </div>
      <div class="mb"><div class="mchart"><canvas id="mcanvas"></canvas></div></div>
    </div>
  </div>

  <footer class="wrap">
    <div class="content">Analisa Kesihatan Pergigian Negeri Kedah • Paparan optimum disyorkan melalui pelayar web desktop</div>
  </footer>

  <script src="app.js?v=31"></script>
  <script>
    window.addEventListener('load', () => {
      requestAnimationFrame(() => window.dispatchEvent(new Event('resize')));
    });
  </script>

  
</body>
</html>

































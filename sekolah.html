<!doctype html>
<html lang="ms">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kesihatan Pergigian Sekolah</title>

  <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css?v=1">

  <!-- Chart/Papa for future use -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>

  <!-- Page-scoped styling to ensure searchbar matches screenshot -->
  <style>
    /* layout of the searchbar row (btn, input, btn) */
    .ph .searchbar{
      display:grid;
      grid-template-columns:auto 1fr auto;
      align-items:center;
      gap:12px;
      margin-top:10px;
    }
    /* make left/right buttons same size */
    .ph .searchbar button.btn,
    .ph .searchbar .btn{
      height:44px;
      width:44px;
      border-radius:12px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      border:none;
      cursor:pointer;
    }
    /* right search button (inherits your teal from styles.css if set) */
    .ph .searchbar #schoolSearchRight{
      background:#12a39a; /* fallback teal if not defined globally */
      color:#fff;
      box-shadow:0 4px 14px rgba(18,163,154,.25);
    }
    .ph .searchbar #schoolSearchRight:hover{ filter:brightness(0.95); }

    /* ghost variant for the back button to match your image */
    .ph .searchbar .btn-ghost{
      background:#fff;
      color:#0f1b2d;
      border:1px solid #d8dee8;
      box-shadow:0 4px 14px rgba(15,27,45,.06);
    }
    .ph .searchbar .btn-ghost:hover{ background:#f6f8fc; border-color:#cfd6e3; }
    .ph .searchbar .btn-ghost .ico{ stroke-width:2.25; }

    /* input look */
    .ph .searchbar input[type="search"]{
      height:44px;
      border-radius:12px;
      border:1px solid #e3e8f0;
      padding:0 16px;
      outline:none;
      box-shadow:0 4px 14px rgba(15,27,45,.06) inset, 0 6px 18px rgba(15,27,45,.04);
      font:400 15px/1.2 "Inter", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background:#fff;
      color:#111827;
    }
    .ph .searchbar input[type="search"]::placeholder{ color:#8391a7; }
    .ph .searchbar input[type="search"]:focus{
      border-color:#cfd6e3;
      box-shadow:0 0 0 3px rgba(18,163,154,.15);
    }

    /* ensure the first tile spans two columns (like akses) */
    .grid{ display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:20px; }
    .tile.wide{ grid-column:1 / span 2; }
    @media (max-width: 900px){
      .grid{ grid-template-columns:1fr; }
      .tile.wide{ grid-column:1 / span 1; }
    }
    /* tiny fix so the subtitle sits snugly under the H1 */
    header.ph h1{ margin:0 0 4px; }
    header.ph p{ margin:0 0 8px; color:#5b6b83; }
  </style>

  <!-- SVG sprite -->
  <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
    <symbol id="i-time" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="9"/><path d="M12 7v5l3 3"/>
    </symbol>
    <symbol id="i-refresh" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M21 12a9 9 0 1 1-3-6.7"/><path d="M21 3v6h-6"/>
    </symbol>
    <symbol id="i-expand" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M4 9V4h5M4 4l6 6"/><path d="M20 15v5h-5M20 20l-6-6"/>
      <path d="M15 4h5v5M20 4l-6 6"/><path d="M9 20H4v-5M4 20l6-6"/>
    </symbol>
    <symbol id="i-filter" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M3 5h18l-7 8v6l-4-2v-4L3 5z"/>
    </symbol>
    <symbol id="i-checkall" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M9 12l2 2 4-4"/><path d="M3 12l2 2 4-4"/><rect x="3" y="3" width="18" height="18" rx="3"/>
    </symbol>
    <symbol id="i-eraser" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M7 21h13"/><path d="M16 3l5 5-10 10H6L1 13l10-10 5 5"/>
    </symbol>
    <symbol id="i-x" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M18 6L6 18M6 6l12 12"/>
    </symbol>
    <symbol id="i-back" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M15 18l-6-6 6-6"/><path d="M21 12H9"/>
    </symbol>
    <symbol id="i-search" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="11" cy="11" r="7"></circle><path d="M21 21l-3.6-3.6"></path>
    </symbol>
  </svg>
</head>
<body>

  <!-- HEADER: title + subtitle + searchbar -->
  <header class="ph">
    <h1>Kesihatan Pergigian Sekolah</h1>
    <p>Analisis proses dan sasaran kesihatan pergigian pelajar sekolah negeri Kedah.</p>

    <div class="searchbar" role="search">
      <!-- LEFT: ghost back button -->
      <button id="schoolBackLeft" type="button" class="btn btn-ghost" aria-label="Kembali ke halaman utama">
        <svg class="ico" width="20" height="20"><use href="#i-back"/></svg>
      </button>

      <!-- Center: input -->
      <input id="schoolSearch" type="search" placeholder="Cari di halaman ini… (kategori, tajuk graf)" autocomplete="off" />
      <div id="gs-suggest" class="gs-suggest" hidden></div>

      <!-- RIGHT: teal search button -->
      <button id="schoolSearchRight" type="button" class="btn" aria-label="Cari">
        <svg class="ico" width="20" height="20"><use href="#i-search"/></svg>
      </button>
    </div>
  </header>

  <!-- GRID (same pattern as akses.html) -->
  <main class="grid">
    <!-- Tile 1 — wide -->
    <section class="tile wide">
      <div class="th">
        <div>
          <h2 class="ttl">Liputan & Status Pergigian Murid (Ringkasan Negeri)</h2>
          <div class="sub"><svg class="ico"><use href="#i-time"/></svg><span id="s1time">—</span></div>
        </div>
        <div class="act">
          <div class="dd" id="dds1" hidden>
            <button class="btn dd-trigger" id="dds1btn" title="Tapis"><svg class="ico"><use href="#i-filter"/></svg></button>
            <div class="menu" id="dds1menu">
              <div class="menu-body"></div>
              <div class="mfoot">
                <button class="icbtn" id="dds1all" title="Pilih Semua"><svg class="ico"><use href="#i-checkall"/></svg></button>
                <button class="icbtn" id="dds1none" title="Kosongkan"><svg class="ico"><use href="#i-eraser"/></svg></button>
                <button class="icbtn" id="dds1close" title="Tutup"><svg class="ico"><use href="#i-x"/></svg></button>
              </div>
            </div>
          </div>
          <button id="s1refresh" class="btn" title="Kemas Kini"><svg class="ico"><use href="#i-refresh"/></svg></button>
          <button id="s1expand" class="btn" title="Perbesar"><svg class="ico"><use href="#i-expand"/></svg></button>
        </div>
      </div>
      <div class="tb">
        <div class="tags" id="dds1tags"></div>
        <div class="chart"><canvas id="s1"></canvas></div>
        <div class="legend" id="s1legend"></div>
        <div class="err" id="s1err"></div>
      </div>
    </section>

    <!-- Tile 2 -->
    <section class="tile">
      <div class="th">
        <div>
          <h2 class="ttl">Saringan Pergigian Sekolah</h2>
          <div class="sub"><svg class="ico"><use href="#i-time"/></svg><span id="s2time">—</span></div>
        </div>
        <div class="act">
          <div class="dd" id="dds2">
            <button class="btn dd-trigger" id="dds2btn" title="Tapis"><svg class="ico"><use href="#i-filter"/></svg></button>
            <div class="menu" id="dds2menu">
              <div class="menu-body"></div>
              <div class="mfoot">
                <button class="icbtn" id="dds2all" title="Pilih Semua"><svg class="ico"><use href="#i-checkall"/></svg></button>
                <button class="icbtn" id="dds2none" title="Kosongkan"><svg class="ico"><use href="#i-eraser"/></svg></button>
                <button class="icbtn" id="dds2close" title="Tutup"><svg class="ico"><use href="#i-x"/></svg></button>
              </div>
            </div>
          </div>
          <button id="s2refresh" class="btn" title="Kemas Kini"><svg class="ico"><use href="#i-refresh"/></svg></button>
          <button id="s2expand" class="btn" title="Perbesar"><svg class="ico"><use href="#i-expand"/></svg></button>
        </div>
      </div>
      <div class="tb">
        <div class="tags" id="dds2tags"></div>
        <div class="chart"><canvas id="s2"></canvas></div>
        <div class="legend" id="s2legend"></div>
        <div class="err" id="s2err"></div>
      </div>
    </section>

    <!-- Tile 3 -->
    <section class="tile">
      <div class="th">
        <div>
          <h2 class="ttl">Intervensi Sekolah (Fluoride/AG/Rawatan)</h2>
          <div class="sub"><svg class="ico"><use href="#i-time"/></svg><span id="s3time">—</span></div>
        </div>
        <div class="act">
          <div class="dd" id="dds3">
            <button class="btn dd-trigger" id="dds3btn" title="Tapis"><svg class="ico"><use href="#i-filter"/></svg></button>
            <div class="menu" id="dds3menu">
              <div class="menu-body"></div>
              <div class="mfoot">
                <button class="icbtn" id="dds3all" title="Pilih Semua"><svg class="ico"><use href="#i-checkall"/></svg></button>
                <button class="icbtn" id="dds3none" title="Kosongkan"><svg class="ico"><use href="#i-eraser"/></svg></button>
                <button class="icbtn" id="dds3close" title="Tutup"><svg class="ico"><use href="#i-x"/></svg></button>
              </div>
            </div>
          </div>
          <button id="s3refresh" class="btn" title="Kemas Kini"><svg class="ico"><use href="#i-refresh"/></svg></button>
          <button id="s3expand" class="btn" title="Perbesar"><svg class="ico"><use href="#i-expand"/></svg></button>
        </div>
      </div>
      <div class="tb">
        <div class="tags" id="dds3tags"></div>
        <div class="chart"><canvas id="s3"></canvas></div>
        <div class="legend" id="s3legend"></div>
        <div class="err" id="s3err"></div>
      </div>
    </section>
  </main>

  <!-- Modal (same pattern as akses.html) -->
  <div class="modal" id="modal">
    <div class="modal-inner">
      <div class="mh">
        <h3 id="mtitle" style="margin:0;font-weight:800">Perincian</h3>
        <button class="close" id="mclose">Tutup</button>
      </div>
      <div class="mb"><div class="mchart"><canvas id="mcanvas"></canvas></div></div>
    </div>
  </div>

  <!-- Minimal JS: back button -->
  <script>
    document.getElementById('schoolBackLeft')?.addEventListener('click', () => {
      location.href = 'index.html';
    });
  </script>
  <!-- When ready, include sekolah.js to populate s1/s2/s3 -->
</body>
</html>
